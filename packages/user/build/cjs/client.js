var s=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var a=Object.prototype.hasOwnProperty;var c=(t,e)=>{for(var n in e)s(t,n,{get:e[n],enumerable:!0})},d=(t,e,n,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of p(e))!a.call(t,r)&&r!==n&&s(t,r,{get:()=>e[r],enumerable:!(l=u(e,r))||l.enumerable});return t};var h=t=>d(s({},"__esModule",{value:!0}),t);var g={};c(g,{BrowserClient:()=>o});module.exports=h(g);var i=class{constructor(e){this._queue=[];this._time=0;this._flushTimer=null;this.colletEvent=null;this._options=e,e.dsn?this._dsn=e.dsn:console.debug("options missing dsn"),this._transport=e.transport}init(){let{plugins:e}=this._options;console.log("client init"),e.forEach(n=>{n(this._options)})}sendEvent(){this._queue.length!==0&&(this._flushTimer!==null?(clearTimeout(this._flushTimer),this.sendQueueHandle()):this.sendQueueHandle())}sendQueueHandle(){this._time=this._options.flushTime||this._time,this._queue.length<30?this._flushTimer=setTimeout(()=>{this._transport.send(),this.sendEvent()},this._time):(this._transport.send(),this.sendEvent())}triggerSend(e){this._queue.push(e),this.sendEvent()}getQueue(){return this._queue}};var o=class extends i{constructor(e){super(e)}};0&&(module.exports={BrowserClient});
//# sourceMappingURL=client.js.map