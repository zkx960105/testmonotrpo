var s,i=()=>s,o=t=>{s=t},n=class{constructor(e){this._queue=[];this._time=0;this._flushTimer=null;this.colletEvent=null;this._options=e,e.dsn?this._dsn=e.dsn:console.debug("options missing dsn"),this._transport=e.transport}init(){let{plugins:e}=this._options;console.log("client init"),e.forEach(r=>{r(this._options)})}sendEvent(){this._queue.length!==0&&(this._flushTimer!==null?(clearTimeout(this._flushTimer),this.sendQueueHandle()):this.sendQueueHandle())}sendQueueHandle(){this._time=this._options.flushTime||this._time,this._queue.length<30?this._flushTimer=setTimeout(()=>{this._transport.send(),this.sendEvent()},this._time):(this._transport.send(),this.sendEvent())}triggerSend(e){this._queue.push(e),this.sendEvent()}getQueue(){return this._queue}};export{s as a,i as b,o as c,n as d};
//# sourceMappingURL=chunk-HC7DCVXI.mjs.map